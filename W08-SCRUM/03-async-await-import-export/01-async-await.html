<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async/Await Demo</title>

    <style>
        *,
        *::after,
        *::before {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            font-size: 2rem;
            font-family: sans-serif;
        }
    </style>
</head>

<body>

    <script>

        // when we add "async" in front of a function then it will return a promise
        async function getData() {

            try {
                // here right the code
                console.log('Synchronous code');

                // upto this line the code executed synchronously
                const response = await fetch('https://jsonplaceholder.typicode.com/posts');
                const data = await response.json();
                console.log("ðŸš€ ~ data:", data);

            } catch (error) {
                // right the code to handle errors
                console.log('Error in fetching data', error.message)
            }


        }

        getData()

        const getDataArrow = async () => {

            try {
                console.log('Arrow Synchronous code');

                // upto this line the code executed synchronously
                const response = await fetch('https://jsonplaceholder.typicode.com/posts');
                const data = await response.json();
                console.log("ðŸš€ ~ Arrow data:", data);
            } catch (error) {

            } finally {
                console.log('finally happened')
            }


        }

        getDataArrow()

        function addPost() {

            const userdata = {
                email: '1@1.com',
                pass: '1234'
            }

            fetch('https://jsonplaceholder.typicode.com/posts', {
                method: 'POST',
                body: JSON.stringify(userdata),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })
                .then((response) => response.json())
                .then((json) => console.log(json));
        }

        addPost()
    </script>
</body>
<!-- 
    ASI: Automatic Semicolon Insertion
 -->

</html>